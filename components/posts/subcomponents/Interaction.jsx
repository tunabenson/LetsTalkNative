import { FontAwesome, FontAwesome5 } from '@expo/vector-icons';
import React, { useRef } from 'react'
import { Animated, Text, TouchableOpacity, View } from 'react-native';
import { Path, Svg } from 'react-native-svg';

/**
 * this component is used to render the interactions component of the Post parent Component
 *
 * @param {boolean} liked - status of liked interaction.
 * @param {boolean} disliked - status of disliked interaction
 * @param {function} toggleDislike- handler for toggling dislike interaction on screen
 * @param {function} toggleLike- handler for toggling like interaction on screen
 */


function Interaction({toggleDislike, toggleLike, liked, disliked, children}) {
  const scaleLike = useRef(new Animated.Value(1)).current;
  const scaleDislike = useRef(new Animated.Value(1)).current;

  const animateScale = (animation, isActive) => {
    Animated.sequence([
      Animated.timing(animation, {
        toValue: 1.2, 
        duration: 150, 
        useNativeDriver: true
      }),
      Animated.timing(animation, {
        toValue: 1, 
        duration: 150,
        useNativeDriver: true
      })
    ]).start();
  };

  const handleLikePress = () => {
    animateScale(scaleLike, liked);
    toggleLike();
  };

  const handleDislikePress = () => {
    animateScale(scaleDislike, disliked);
    toggleDislike(); 
  };

  return (
    <View className="flex-row items-center mt-2 ">
    <TouchableOpacity hitSlop={25} onPress={handleLikePress} className="flex-row items-center mr-5" >
    <Animated.View style={{ transform: [{ scale: scaleLike }] }}>
          <FontAwesome5 name="vote-yea" size={25} color={liked ? '#21A179' : '#4D5057'} />
    </Animated.View>    
  </TouchableOpacity>

    <TouchableOpacity hitSlop={25} onPress={handleDislikePress} className="flex-row items-center">
    <Animated.View style={{ transform: [{ scale: scaleDislike }] }}>

      <CustomIcon color={disliked ? '#FA003F' : '#4D5057'}/>
          {/* <FontAwesome name="thumbs-down" size={25} color={disliked ? '#FA003F' : '#4D5057'} /> */}
        </Animated.View>    
      </TouchableOpacity>  
      {children}
  </View>

  )
}


function CustomIcon({color}){
  return (
    <Svg  width="40" height="33"  fill={color}>
    <Path  scaleX={0.15} scaleY={0.15} d="M0 0 C1.46780159 -0.0129007 1.46780159 -0.0129007 2.96525574 -0.02606201 C4.58138512 -0.03245193 4.58138512 -0.03245193 6.23016357 -0.03897095 C7.36198563 -0.04714844 8.49380768 -0.05532593 9.65992737 -0.06375122 C13.41868556 -0.08863556 17.17740591 -0.10512894 20.93621826 -0.11953735 C22.85844837 -0.12752287 22.85844837 -0.12752287 24.81951141 -0.13566971 C30.20506816 -0.15690574 35.59061256 -0.17603533 40.9762001 -0.1872921 C48.69105572 -0.20352391 56.40540708 -0.23668056 64.1200726 -0.29369295 C70.20053644 -0.3370936 76.2808028 -0.35304035 82.36141205 -0.35942459 C84.94661803 -0.36614996 87.53181631 -0.38140507 90.11692047 -0.4053154 C93.73448656 -0.43686639 97.35077777 -0.43701795 100.96844482 -0.42959595 C102.03776749 -0.44600128 103.10709015 -0.46240662 104.20881653 -0.47930908 C112.31399105 -0.41119248 112.31399105 -0.41119248 116.00744629 2.56536865 C119.03985491 5.9046558 119.48319837 7.3090917 119.47834778 11.68432617 C119.48041402 13.11167052 119.48041402 13.11167052 119.48252201 14.56785011 C119.4789239 15.61927885 119.47532579 16.67070759 119.47161865 17.7539978 C119.47173919 18.87431585 119.47185972 19.9946339 119.47198391 21.14890099 C119.47123533 24.78860815 119.46360955 28.4282646 119.45574951 32.06796265 C119.45427992 34.30974299 119.45325932 36.55152368 119.45269775 38.79330444 C119.44744683 47.12184156 119.43348572 55.45037135 119.42059326 63.77890015 C119.39996826 82.38265015 119.37934326 100.98640015 119.35809326 120.15390015 C76.12809326 120.15390015 32.89809326 120.15390015 -11.64190674 120.15390015 C-11.79659424 92.37202515 -11.79659424 92.37202515 -11.95440674 64.02890015 C-11.99992676 58.18412964 -12.04544678 52.33935913 -12.09234619 46.31747437 C-12.1149292 39.17172241 -12.1149292 39.17172241 -12.11912537 35.8248291 C-12.12679553 33.49087762 -12.14436513 31.15694577 -12.16978455 28.82312012 C-12.20639513 25.28443057 -12.2114366 21.74694998 -12.20953369 18.20809937 C-12.22752423 17.17106306 -12.24551477 16.13402676 -12.26405048 15.06556511 C-12.23101743 10.47534818 -12.18520735 7.1895724 -9.23143005 3.5255127 C-5.86528367 0.44263062 -4.43020508 0.02893523 0 0 Z "  transform="translate(78.64190673828125,30.846099853515625)"/>
    <Path scaleX={0.15} scaleY={0.15} d="M0 0 C1.12148438 0.00322266 2.24296875 0.00644531 3.3984375 0.00976562 C4.5740625 0.01814453 5.7496875 0.02652344 6.9609375 0.03515625 C8.14429687 0.03966797 9.32765625 0.04417969 10.546875 0.04882812 C13.47658389 0.06064147 16.40626691 0.07857735 19.3359375 0.09765625 C19.3359375 7.35765625 19.3359375 14.61765625 19.3359375 22.09765625 C14.3859375 22.59265625 14.3859375 22.59265625 9.3359375 23.09765625 C9.3359375 26.06765625 9.3359375 29.03765625 9.3359375 32.09765625 C66.4259375 32.09765625 123.5159375 32.09765625 182.3359375 32.09765625 C182.3359375 29.12765625 182.3359375 26.15765625 182.3359375 23.09765625 C179.0359375 22.76765625 175.7359375 22.43765625 172.3359375 22.09765625 C172.3359375 14.83765625 172.3359375 7.57765625 172.3359375 0.09765625 C176.23218856 0.01667182 180.1267538 -0.04284182 184.0234375 -0.08984375 C185.12623047 -0.11498047 186.22902344 -0.14011719 187.36523438 -0.16601562 C188.43193359 -0.17568359 189.49863281 -0.18535156 190.59765625 -0.1953125 C191.57694092 -0.21102295 192.55622559 -0.2267334 193.56518555 -0.24291992 C196.88894598 0.16563112 198.63372707 1.14086415 201.3359375 3.09765625 C202.08810547 3.63535645 202.84027344 4.17305664 203.61523438 4.72705078 C206.23155133 8.33153966 205.90933601 11.67823641 205.8671875 16.02734375 C205.8710144 16.89529572 205.87484131 17.76324768 205.87878418 18.65750122 C205.88150293 20.49156861 205.87414424 22.3256748 205.85742188 24.15966797 C205.83606248 26.95629203 205.85719682 29.75033209 205.8828125 32.546875 C205.8801682 34.33203689 205.87504111 36.11719718 205.8671875 37.90234375 C205.87528442 38.73377899 205.88338135 39.56521423 205.89172363 40.42184448 C205.8063721 45.75242927 204.96139896 48.92677845 201.3359375 53.09765625 C197.60760174 55.71566231 193.55095376 55.37679793 189.1751709 55.35162354 C187.93083605 55.35630351 187.93083605 55.35630351 186.66136312 55.36107802 C183.87768574 55.36906443 181.09422594 55.36273186 178.31054688 55.35644531 C176.31647107 55.35915489 174.32239627 55.36271563 172.32832336 55.36706543 C166.90901811 55.37619567 161.48978887 55.37264254 156.07048225 55.36630726 C150.40420448 55.36125057 144.7379333 55.36593779 139.07165527 55.36907959 C129.55540801 55.3727202 120.03919177 55.36791765 110.52294922 55.35839844 C99.5143585 55.34751372 88.50584186 55.35103923 77.49725294 55.36205125 C68.05259551 55.37112142 58.60796041 55.37241072 49.16330004 55.36717391 C43.51931068 55.36405273 37.87535615 55.36364895 32.23136902 55.37024689 C26.92577324 55.37601578 21.62027315 55.37203179 16.31468773 55.36045837 C14.36517178 55.35780935 12.4156478 55.358581 10.46613503 55.3629837 C7.80954859 55.36843099 5.15327076 55.36161494 2.4967041 55.35162354 C1.72122144 55.35608498 0.94573878 55.36054642 0.14675665 55.36514306 C-3.59673636 55.33774559 -6.54479306 55.29077679 -9.6640625 53.09765625 C-13.85927883 48.22329819 -14.27962136 44.37046092 -14.265625 38.2265625 C-14.27419525 37.38600815 -14.2827655 36.5454538 -14.29159546 35.6794281 C-14.30303788 33.90863637 -14.30411508 32.13775067 -14.29541016 30.36694336 C-14.28908727 27.6707188 -14.3360471 24.97888587 -14.38671875 22.28320312 C-14.39126548 20.55599508 -14.39267137 18.82877532 -14.390625 17.1015625 C-14.40904449 16.30343643 -14.42746399 15.50531036 -14.44644165 14.68299866 C-14.3564945 9.18898749 -12.91770784 6.39406222 -9.14633179 2.41001892 C-6.17047234 -0.22472963 -3.87197124 -0.01955541 0 0 Z "  transform="translate(36.6640625,128.90234375)"/>
    <Path  scaleX={0.15} scaleY={0.15} d="M0 0 C3.34741705 2.48812422 6.10686517 5.44863871 8.9375 8.5 C9.71673828 9.31082031 10.49597656 10.12164062 11.29882812 10.95703125 C13.21596282 12.95649688 15.11487623 14.97040405 17 17 C20.44609216 14.15131433 23.8139567 11.30326159 26.84375 8.0078125 C27.7203125 7.05648437 28.596875 6.10515625 29.5 5.125 C30.3765625 4.15820312 31.253125 3.19140625 32.15625 2.1953125 C35 0 35 0 38.625 -0.48046875 C41.93161333 -0.0097356 43.21249569 0.23240917 45.5 2.5625 C46.0053125 3.03816406 46.510625 3.51382813 47.03125 4.00390625 C48.69871771 7.43969657 48.10363169 9.37325075 47 13 C44.59478003 16.11808262 41.81175302 18.75470021 38.9375 21.4375 C38.17888672 22.16904297 37.42027344 22.90058594 36.63867188 23.65429688 C34.7719731 25.45055419 32.89275498 27.2312871 31 29 C32.38170709 32.14870618 33.9551349 34.13806822 36.4765625 36.4609375 C37.48203125 37.41613281 37.48203125 37.41613281 38.5078125 38.390625 C39.91955472 39.71380774 41.33887502 41.02895121 42.765625 42.3359375 C47.85264398 47.20690548 47.85264398 47.20690548 48.61328125 51.30078125 C47.76836293 55.01949818 45.85106537 56.56616371 43 59 C42.67 59.33 42.34 59.66 42 60 C39.12789655 60.56769795 37.7644884 60.75083272 35 60 C31.64326948 57.52574403 28.89234854 54.55051368 26.0625 51.5 C25.28326172 50.68917969 24.50402344 49.87835938 23.70117188 49.04296875 C21.78403718 47.04350312 19.88512377 45.02959595 18 43 C14.55390784 45.84868567 11.1860433 48.69673841 8.15625 51.9921875 C7.2796875 52.94351563 6.403125 53.89484375 5.5 54.875 C4.6234375 55.84179688 3.746875 56.80859375 2.84375 57.8046875 C0 60 0 60 -3.625 60.48046875 C-6.93161333 60.0097356 -8.21249569 59.76759083 -10.5 57.4375 C-11.25796875 56.72400391 -11.25796875 56.72400391 -12.03125 55.99609375 C-13.69871771 52.56030343 -13.10363169 50.62674925 -12 47 C-9.59478003 43.88191738 -6.81175302 41.24529979 -3.9375 38.5625 C-2.79958008 37.46518555 -2.79958008 37.46518555 -1.63867188 36.34570312 C0.2280269 34.54944581 2.10724502 32.7687129 4 31 C2.61829291 27.85129382 1.0448651 25.86193178 -1.4765625 23.5390625 C-2.146875 22.90226562 -2.8171875 22.26546875 -3.5078125 21.609375 C-4.91955472 20.28619226 -6.33887502 18.97104879 -7.765625 17.6640625 C-12.84838455 12.79717304 -12.84838455 12.79717304 -13.62109375 8.734375 C-12.97906763 5.90784491 -12.47932178 4.64016614 -10.4375 2.625 C-9.96183594 2.12226562 -9.48617187 1.61953125 -8.99609375 1.1015625 C-5.62834582 -0.75695984 -3.80792341 -0.68883167 0 0 Z " fill="#FAFAF9" transform="translate(115,61)"/>
    </Svg>
  )
}

export default Interaction;